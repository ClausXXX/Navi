<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NTCM_JRC: NTCM JRC Readme file</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="EC_logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NTCM_JRC
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">NTCM JRC Readme file </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Please run &lt;Start Doxygen&gt; to start Online Documentation or refer to the "NTCM G Software Package User Guide" Document.</p>
<h1>Copyright </h1>
<p>European Union, 2022</p>
<p>This software has been released as free and open source software under the terms of the European Union Public Licence (EUPL), version 1.2, <a href="https://joinup.ec.europa.eu/sites/default/files/custom-page/attachment/eupl_v1.2_en.pdf">https://joinup.ec.europa.eu/sites/default/files/custom-page/attachment/eupl_v1.2_en.pdf</a></p>
<p>Questions? Submit your query at <a href="https://www.gsc-europa.eu">https://www.gsc-europa.eu</a></p>
<p>Version: 1.0</p>
<p>Release date: May 2022</p>
<h1>Background </h1>
<p>Galileo is the European global navigation satellite system providing a highly accurate and global positioning service under civilian control. Galileo, and in general current GNSS, are based on the broadcasting of electromagnetic ranging signals in the L frequency band. Those satellite signals suffer from a number of impairments when propagating through the Earth’s ionosphere. Receivers operating in single frequency mode may use the single frequency ionospheric correction algorithm NTCM to estimate the ionospheric delay on each satellite link. The NTCM-G SWP aims at providing a reference implementation of the NTCM G algorithm and the auxiliary functions described in []. The target is to provide a portable and validated C/C++ version of the NTCM G model that can be easily deployed in different GNSS application and simulation environments. The development approach is based on modern industrial rapid prototyping practice of Model Based Design (MBD) using the Matlab/Simulink toolchain, and includes the deployment of the generated code into the target C/C++ application.</p>
<p>The implementation has been written in the C programming language by using autocoding and model based design approach. The package includes:</p><ul>
<li>NTCM function library (NTCM_src/src/lib) allowing to use the NTCM_Procedure Module and the NTCM_G algorithm Module</li>
<li>Implementation auxiliary function (NTCM_src/src/aux_fun)</li>
<li>The driver programs for running or test the package (src)</li>
</ul>
<h1>Spec(s): </h1>
<p>European GNSS (Galileo) Open Service - NTCM G Ionospheric Model Description, Issue 1.0, European Commission (EC) C standard ( Misra-C guidelines )</p>
<h1>Requirements </h1>
<ul>
<li>Matlab/Simulink Model Based Design Design,Implementation and test ( Model in the loop VS Sw in the loop)</li>
<li>Embedded Coder Autocoding with the following Code generation objectives:</li>
</ul>
<ol type="1">
<li>Execution efficiency</li>
<li>RAM efficiency</li>
<li>MISRA C:2012 guidelines</li>
</ol>
<ul>
<li>Cross platform compatibility Windows/Linux</li>
<li>Doxygen, a documentation generator</li>
</ul>
<h1>Build Configuration </h1>
<p>Two build toolchains are supported:</p><ul>
<li>Microsoft C++ Compiler (Microsoft Visual Studio 2022)</li>
<li>GNU compiler gcc (GCC for Windows Subsystem MVS via WSL distribution)</li>
<li>Pre compilation options Each driver program source code support pre-compilation options as preprocessor flag. This allows to compile them for different usages and according different configurations of the NTCM_G. Note : a general #isLx (idef/ifndef) flag is used to distinguish between MVS and GCC target compilation</li>
</ul>
<h1>Microsoft Visual Studio Build with MVS and GCC </h1>
<p>A unified approach for the driver program has been selected by using differen MVS solutions:</p><ul>
<li>NTCM_app/build/mvs/NTCM_mvs ==&gt; Microsoft C++ Compiler</li>
<li>NTCM_app/build/gcc/NTCM_lx ==&gt; GCC ( via WSL)</li>
</ul>
<p>Open the target solution using IDE Microsoft Visual Studio 2022. The solutions includes different available projects that share NTCM library and differs in terms of:</p><ul>
<li>driver program main function (run_NTCM, run_NTCM_UT, etc.)</li>
<li>preprocessor options for different analysis and debugging purposes (see preprocessor definition in solution properties)</li>
<li>input which are passed per argument in the same way the user will experience in the driver programs (see command argument in solution properties) All Input/Output file are included in NTCM_app/script/Data and NTCM_app/script/Out.</li>
</ul>
<p>Note1 : NTCM_lx solution needs WSL distribution with UBUNTU 18 LTS. If not available the user can ghange the project configuration properties and point to a different client linux machine Note2 : NTCM_mvs directly refer to NTCM_app/script Data/Out content for debugging and testing purposes Note3 : NTCM_lx need running the provided xxxx auxiliary script that copies NTCM_app/script Data/Out content in the target folder for debugging and testing of the solution Note4 : debug/relase and x64, x86 configuration can be controlled by changing configuration manager of the solution</p>
<h1>Usage of the driver programs </h1>
<h1>--&gt; Script for Windows (NTCM_app/script/mvs) </h1>
<ul>
<li>NTCM Procedure function</li>
</ul>
<p>run ./run_NTCM_procedure ** -h command description for the NTCM procedure function ** -run direct function run (fastest I/O without check) ** -check output comparison with reference input vector (see -h)</p>
<ul>
<li>NTCM Procedure benchmark</li>
</ul>
<p>run ./NTCM_procedure_banchmark ** -h banchmark header ** -run run tests</p>
<ul>
<li>NTCM_G Model</li>
</ul>
<p>run ./run_NTCM_G ** -h command description for the NTCM_G Model ** -run direct function run (fastest I/O without check) ** -check output comparison with reference input vector (see -h)</p>
<ul>
<li>NTCM_G Model benchmark</li>
</ul>
<p>run ./NTCM_G_banchmark ** -h banchmark heade. ** -run run tests</p>
<h1>--&gt; Script for Linux (NTCM_app/script/gcc) </h1>
<ul>
<li>NTCM Procedure function</li>
</ul>
<p>run ./run_NTCM_procedure_lx ** -h command description for the NTCM procedure function ** -run direct function run (fastest I/O without check) ** -check output comparison with reference input vector (see -h)</p>
<ul>
<li>NTCM Procedure benchmark</li>
</ul>
<p>run ./NTCM_procedure_banchmark_lx ** -h banchmark header ** -run run tests</p>
<ul>
<li>NTCM_G Model</li>
</ul>
<p>run ./run_NTCM_G_lx ** -h command description for the NTCM_G Model ** -run direct function run (fastest I/O without check) ** -check output comparison with reference input vector (see -h)</p>
<ul>
<li>NTCM_G Model benchmark</li>
</ul>
<p>run ./NTCM_G_banchmark_lx ** -h banchmark header ** -run run tests</p>
<h1>TEST VECTOR FORMAT </h1>
<p>Exemplary test vectors in Matlab ‘.mat’ format are located in the folder &lt;./NTCM_mbd/mbd_test/TestPattern&gt;. Exemplary test vectors for target applications (.exe, .out) are located in the folder &lt;./NTCM_app/scripts/Data&gt;.</p>
<p>The following test vectors are available for selection:</p><ul>
<li>testVectors_RefDoc_Table_7_1_High_Solar --&gt; Test vector for high solar activity as described in Section 7.1 of [1]</li>
<li>testVectors_RefDoc_Table_7_1_Medium_Solar --&gt; Test vector for medium solar activity as described in Section 7.1 of [1]</li>
<li>testVectors_RefDoc_Table_7_1_Low_Solar --&gt; Test vector for low solar activity as described in Section 7.1 of [1]</li>
<li>testVectors_Global_1_Year_High_Solar --&gt; Global test vector containing equally distributed user locations for 12 days, one day at each first day of a month, and sampled at 2 hours. This test vector is for high solar activity.</li>
<li>testVectors_Global_1_Year_Medium_Solar --&gt; Global test vector containing equally distributed user locations for 12 days, one day at each first day of a month, and sampled at 2 hours. This test vector is for medium solar activity.</li>
<li>testVectors_Global_1_Year_Low_Solar --&gt; Global test vector containing equally distributed user locations for 12 days, one day at each first day of a month, and sampled at 2 hours. This test vector is for low solar activity.</li>
</ul>
<p>The test vectors are composed of 13 columns listing the input parameters as indicated below:</p>
<p>Column 1 ai0 Effective Ionisation Level 1st order parameter [sfu] Column 2 ai1 Effective Ionisation Level 2nd order parameter [sfu/deg] Column 3 ai2 Effective Ionisation Level 3rd order parameter[sfu/deg] Column 4 doy Day of Year [dimensionless] Column 5 utc Universal time [hours] Column 6 rx_lon_deg User receiver Geodetic latitude [deg] Column 7 rx_lat_deg User receiver Geodetic longitude [deg] Column 8 rx_alt_m User receiver Geodetic height [meters] Column 9 sv_lon_deg Satellite Geodetic latitude [deg] Column 10 sv_lat_deg Satellite Geodetic longitude [deg] Column 11 sv_alt_m Satellite Geodetic height Range [meters] Column 12 vTEC_expected Expected vertical TEC Column 13 sTEC_expected Expected slant TEC</p>
<h1>CHANGELOG </h1>
<p>First version. </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
