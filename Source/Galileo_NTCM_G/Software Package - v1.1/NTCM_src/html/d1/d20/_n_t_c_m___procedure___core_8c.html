<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NTCM_JRC: lib/NTCM_Procedure_Core.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../EC_logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NTCM_JRC
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">NTCM_Procedure_Core.c File Reference<div class="ingroups"><a class="el" href="../../d0/dd2/group___n_t_c_m___procedure.html">NTCM_Procedure</a> &#124; <a class="el" href="../../d0/dd2/group___n_t_c_m___procedure.html">NTCM_Procedure</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="../../db/dd6/_n_t_c_m___procedure___core_8h_source.html">NTCM_Procedure_Core.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../dc/d47/_n_t_c_m___procedure_8h_source.html">NTCM_Procedure.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d0/dbf/_n_t_c_m___procedure__private_8h_source.html">NTCM_Procedure_private.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a56e0fa479c0d3b4ff8e67739e09f208f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d20/_n_t_c_m___procedure___core_8c.html#a56e0fa479c0d3b4ff8e67739e09f208f">NTCM_Procedure_Core</a> (const <a class="el" href="../../dd/d65/rtwtypes_8h.html#a2e4078fe4daba4fe064f5c7614b361a2">real_T</a> brdcIonoParam[3], <a class="el" href="../../dd/d65/rtwtypes_8h.html#a2e4078fe4daba4fe064f5c7614b361a2">real_T</a> Doy, <a class="el" href="../../dd/d65/rtwtypes_8h.html#a2e4078fe4daba4fe064f5c7614b361a2">real_T</a> UTC, const <a class="el" href="../../dd/d65/rtwtypes_8h.html#a2e4078fe4daba4fe064f5c7614b361a2">real_T</a> llhRecDeg[3], const <a class="el" href="../../dd/d65/rtwtypes_8h.html#a2e4078fe4daba4fe064f5c7614b361a2">real_T</a> llhSatDeg[3], <a class="el" href="../../dd/d65/rtwtypes_8h.html#a2e4078fe4daba4fe064f5c7614b361a2">real_T</a> fcarr, <a class="el" href="../../dd/d65/rtwtypes_8h.html#a2e4078fe4daba4fe064f5c7614b361a2">real_T</a> *vTEC, <a class="el" href="../../dd/d65/rtwtypes_8h.html#a2e4078fe4daba4fe064f5c7614b361a2">real_T</a> *sTEC, <a class="el" href="../../dd/d65/rtwtypes_8h.html#a2e4078fe4daba4fe064f5c7614b361a2">real_T</a> *delay_m, <a class="el" href="../../dd/d65/rtwtypes_8h.html#a10de142b55c8bcd07329b4e92f612528">uint16_T</a> *ErrorCode)</td></tr>
<tr class="separator:a56e0fa479c0d3b4ff8e67739e09f208f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><hr  />
<p> NTCMproj File: <a class="el" href="../../d1/d20/_n_t_c_m___procedure___core_8c.html">NTCM_Procedure_Core.c</a></p>
<hr  />
 <dl class="section author"><dt>Author</dt><dd>Francesco Menzione @reviewer Matteo Sgammini </dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>Joint Research Centre (JRC), 2022 This software has been released as free and open source software under the terms of the European Union Public Licence (EUPL), version 1 Questions? Submit your query at <a href="https://www.gsc-europa.eu/contact-us/helpdesk">https://www.gsc-europa.eu/contact-us/helpdesk</a></dd></dl>
<hr  />
<p> Code generated for Simulink model 'NTCM_Procedure'. Model version : 1.0 Simulink Coder version : 9.5 (R2021a) 14-Nov-2020 C/C++ source code generated on : Tue Apr 26 16:40:10 2022</p>
<p>Target selection: ert.tlc Embedded hardware selection: Custom Processor-&gt;Custom Code generation objectives:</p><ol type="1">
<li>Execution efficiency</li>
<li>RAM efficiency</li>
<li>MISRA C:2012 guidelines Validation result: Passed (21), Warning (1), Error (0)</li>
</ol>
<hr  />
<p> NTCM_Procedure_Core Output and update for atomic system: '&lt;Root&gt;/NTCM_Procedure_Core'</p>
<hr  />
<p> Arguments : const real_T brdcIonoParam[3] real_T Doy real_T UTC const real_T llhRecDeg[3] const real_T llhSatDeg[3] real_T fcarr real_T *vTEC real_T *sTEC real_T *delay_m uint16_T *ErrorCode</p>
<hr  />
<p> Return Type : void</p>
<hr  />
<p> Block description for: '&lt;Root&gt;/NTCM_Procedure_Core'</p>
<hr  />
<p> <b> FUNCTION </b> The core function implements the step-by-step procedure as described in [1]. The "core" suffix aim at sparating this pure algorithmic block from any consistency/control or I/O logic implemented externally by the user ( the check-in/checkout steps included in the overall procedure are provided just an example of possible wrapping. It is worthy to remind that in order to implement the ionospheric algorithm for Galileo single frequency receivers for each satellite-user line-of-sight the following steps shall be followed: <br  />
 1) Obtain estimates of user receiver position (lat,long,h)_i, satellite position (lat,long,h)_j <br  />
 2) Universal Time (UT), in terms of time of day and month <br  />
 3) Obtain Effective Ionisation Level Azpar and broadcast coefficients (a_i0,a_i1,a_i2 ) <br  />
 4)Calculate satellite elevation (E) and azimuth (A) angles <br  />
 5)Calculate ionospheric pierce point location for the user-to-satellite <br  />
 6) Call NTCM_G to calculate VTEC at pierce point location and local time (LT) <br  />
 (Section 2.5.4 in[1] provides a formula to convert UT to LT). <br  />
 7) Calculate ionospheric Mapping Function (MF) using the equation provided in Section 2.5.8. <br  />
 8) Convert VTEC to STEC using the ionospheric mapping function. <br  />
 9) Convert STEC to time delay using Eq. 1 in[1] for the corresponding frequency to obtain <br  />
 the correction <br  />
 10) Apply correction to selected link</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">AzPara</td><td>=&gt; alpha0, alpha1, and alpha2 Iono Parameters broadcasted by Galileo </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">Doy</td><td>=&gt; Day of the year </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">UTC</td><td>=&gt; UTC Time in hours (0 for midnight) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">llhRecDeg</td><td>=&gt; User position in Longitude[rad], Latitude[rad], height[m] </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">llhSatDeg</td><td>=&gt; Satellite position in Longitude[rad], Latitude[rad], height[m] </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">fcarr</td><td>=&gt; Carrier frequency</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">vTEC</td><td>=&gt; Vertical TEC </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">sTEC</td><td>=&gt; Slant TEC </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">delay_m</td><td>=&gt; Signal propagation time delay in [m] </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">ErrorCode</td><td>=&gt; Error Code (optional)</td></tr>
  </table>
  </dd>
</dl>
<p><b> Tuning Constant </b> </p><table class="doxtable">
<tr>
<th>Label </th><th>Value </th></tr>
<tr>
<td>ErrCodeEl </td><td>2U </td></tr>
<tr>
<td>ErrCodeEl </td><td>2U </td></tr>
<tr>
<td>ErrCodeIn </td><td>1U </td></tr>
<tr>
<td>ErrCodeOut </td><td>3U </td></tr>
<tr>
<td>IPP_RefAltitude </td><td>450000.0 </td></tr>
<tr>
<td>LTd </td><td>14.0 </td></tr>
<tr>
<td>NoErr </td><td>0U </td></tr>
<tr>
<td>Pf1 </td><td>0.4 </td></tr>
<tr>
<td>doy_DAV </td><td>18.0 </td></tr>
<tr>
<td>doy_DSAV </td><td>6.0 </td></tr>
<tr>
<td>lamGNP_deg </td><td>-71.78 </td></tr>
<tr>
<td>phiGNP_deg </td><td>79.74 </td></tr>
<tr>
<td>phi_c1 </td><td>16.0 </td></tr>
<tr>
<td>phi_c2 </td><td>-10.0 </td></tr>
<tr>
<td>sigma_c1 </td><td>12.0 </td></tr>
<tr>
<td>sigma_c2 </td><td>13.0 </td></tr>
<tr>
<td>k1 </td><td>0.92519 </td></tr>
<tr>
<td>k10 </td><td>1.20556 </td></tr>
<tr>
<td>k11 </td><td>1.41808 </td></tr>
<tr>
<td>k12 </td><td>0.13985 </td></tr>
<tr>
<td>k2 </td><td>0.16951 </td></tr>
<tr>
<td>k3 </td><td>0.00443 </td></tr>
<tr>
<td>k4 </td><td>0.06626 </td></tr>
<tr>
<td>k5 </td><td>0.00899 </td></tr>
<tr>
<td>k6 </td><td>0.21289 </td></tr>
<tr>
<td>k7 </td><td>-0.15414 </td></tr>
<tr>
<td>k8 </td><td>-0.38439 </td></tr>
<tr>
<td>k9 </td><td>1.14023 </td></tr>
</table>
<hr  />
 </div><h2 class="groupheader">Function Documentation</h2>
<a id="a56e0fa479c0d3b4ff8e67739e09f208f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56e0fa479c0d3b4ff8e67739e09f208f">&#9670;&nbsp;</a></span>NTCM_Procedure_Core()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void NTCM_Procedure_Core </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../dd/d65/rtwtypes_8h.html#a2e4078fe4daba4fe064f5c7614b361a2">real_T</a>&#160;</td>
          <td class="paramname"><em>brdcIonoParam</em>[3], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d65/rtwtypes_8h.html#a2e4078fe4daba4fe064f5c7614b361a2">real_T</a>&#160;</td>
          <td class="paramname"><em>Doy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d65/rtwtypes_8h.html#a2e4078fe4daba4fe064f5c7614b361a2">real_T</a>&#160;</td>
          <td class="paramname"><em>UTC</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../dd/d65/rtwtypes_8h.html#a2e4078fe4daba4fe064f5c7614b361a2">real_T</a>&#160;</td>
          <td class="paramname"><em>llhRecDeg</em>[3], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../dd/d65/rtwtypes_8h.html#a2e4078fe4daba4fe064f5c7614b361a2">real_T</a>&#160;</td>
          <td class="paramname"><em>llhSatDeg</em>[3], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d65/rtwtypes_8h.html#a2e4078fe4daba4fe064f5c7614b361a2">real_T</a>&#160;</td>
          <td class="paramname"><em>fcarr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d65/rtwtypes_8h.html#a2e4078fe4daba4fe064f5c7614b361a2">real_T</a> *&#160;</td>
          <td class="paramname"><em>vTEC</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d65/rtwtypes_8h.html#a2e4078fe4daba4fe064f5c7614b361a2">real_T</a> *&#160;</td>
          <td class="paramname"><em>sTEC</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d65/rtwtypes_8h.html#a2e4078fe4daba4fe064f5c7614b361a2">real_T</a> *&#160;</td>
          <td class="paramname"><em>delay_m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d65/rtwtypes_8h.html#a10de142b55c8bcd07329b4e92f612528">uint16_T</a> *&#160;</td>
          <td class="paramname"><em>ErrorCode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;{</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;  <a class="code" href="../../dd/d65/rtwtypes_8h.html#a2e4078fe4daba4fe064f5c7614b361a2">real_T</a> lOut_NTCM_Coeff_[12];</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;  <a class="code" href="../../dd/d65/rtwtypes_8h.html#a2e4078fe4daba4fe064f5c7614b361a2">real_T</a> lOut_Physiscal_Const_[10];</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;  <a class="code" href="../../dd/d65/rtwtypes_8h.html#a2e4078fe4daba4fe064f5c7614b361a2">real_T</a> lOut_llhRad[3];</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  <a class="code" href="../../dd/d65/rtwtypes_8h.html#a2e4078fe4daba4fe064f5c7614b361a2">real_T</a> lOut_llhRad_a[3];</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  <a class="code" href="../../dd/d65/rtwtypes_8h.html#a2e4078fe4daba4fe064f5c7614b361a2">real_T</a> lOut_losVec[3];</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  <a class="code" href="../../dd/d65/rtwtypes_8h.html#a2e4078fe4daba4fe064f5c7614b361a2">real_T</a> lOut_xyz[3];</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  <a class="code" href="../../dd/d65/rtwtypes_8h.html#a2e4078fe4daba4fe064f5c7614b361a2">real_T</a> lOut_xyz_i[3];</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  <a class="code" href="../../dd/d65/rtwtypes_8h.html#a2e4078fe4daba4fe064f5c7614b361a2">real_T</a> lOut_IppCoord_[2];</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;  <a class="code" href="../../dd/d65/rtwtypes_8h.html#a2e4078fe4daba4fe064f5c7614b361a2">real_T</a> lOut_El_check_out_;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;  <a class="code" href="../../dd/d65/rtwtypes_8h.html#a2e4078fe4daba4fe064f5c7614b361a2">real_T</a> lOut_LT;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;  <a class="code" href="../../dd/d65/rtwtypes_8h.html#a2e4078fe4daba4fe064f5c7614b361a2">real_T</a> lOut_SvDoAAzRad_;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  <a class="code" href="../../dd/d65/rtwtypes_8h.html#a2e4078fe4daba4fe064f5c7614b361a2">real_T</a> lOut_SvDoAEleRad_;</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  lOut_llhRad_a[2] = llhRecDeg[2];</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;  lOut_llhRad_a[0] = 0.017453292519943295 * llhRecDeg[0];</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  lOut_llhRad_a[1] = 0.017453292519943295 * llhRecDeg[1];</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160; </div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;  <span class="comment">/*</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="comment">   * Block description for &#39;&lt;S4&gt;/llh2xyz1&#39;:</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="comment">   *     @ingroup NTCM_Procedure</span></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;<span class="comment">   *     &lt;strong&gt; FUNCTION &lt;/strong&gt;</span></div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;<span class="comment">   *     This module converts the receiver geodetic WGS84 coordinates to ECEF (Described in Sec.2.5.1)</span></div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;<span class="comment">   *     @param[in] llh     =&gt; WGS84 coordinates in Latitude[rad], Longitude[rad], height[m]</span></div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;<span class="comment">   *     @param[out] xyz    =&gt; ECEF coordinates in x[m], y[m], z[m]</span></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;<span class="comment">   *     @file</span></div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  <a class="code" href="../../dc/d76/llh2xyz___rec_8c.html#a988687344f4b72b58df43eaa6fad7788">llh2xyz_Rec</a>(lOut_llhRad_a, lOut_xyz_i);</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;  lOut_llhRad[2] = llhSatDeg[2];</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;  lOut_llhRad[0] = 0.017453292519943295 * llhSatDeg[0];</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  lOut_llhRad[1] = 0.017453292519943295 * llhSatDeg[1];</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160; </div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  <span class="comment">/*</span></div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<span class="comment">   * Block description for &#39;&lt;S4&gt;/llh2xyz2&#39;:</span></div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;<span class="comment">   *    @ingroup NTCM_Procedure</span></div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;<span class="comment">   *     &lt;strong&gt; FUNCTION &lt;/strong&gt;</span></div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;<span class="comment">   *     This module converts the SV geodetic WGS84 coordinates to ECEF (Described in Sec.2.5.1)</span></div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;<span class="comment">   *     @param[in] llh     =&gt; WGS84 coordinates in Latitude[rad], Longitude[rad], height[m]</span></div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="comment">   *     @param[out] xyz    =&gt; ECEF coordinates in x[m], y[m], z[m]</span></div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;<span class="comment">   *     @file</span></div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;  <a class="code" href="../../df/d12/llh2xyz___sat_8c.html#a7760470ad73a8ff22bce840ed91be503">llh2xyz_Sat</a>(lOut_llhRad, lOut_xyz);</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;  lOut_losVec[0] = lOut_xyz[0] - lOut_xyz_i[0];</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;  lOut_losVec[1] = lOut_xyz[1] - lOut_xyz_i[1];</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;  lOut_losVec[2] = lOut_xyz[2] - lOut_xyz_i[2];</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160; </div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;  <span class="comment">/*</span></div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;<span class="comment">   * Block description for &#39;&lt;S4&gt;/ComputeDoA&#39;:</span></div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;<span class="comment">   *     @ingroup NTCM_Procedure</span></div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;<span class="comment">   *     &lt;strong&gt; FUNCTION &lt;/strong&gt;</span></div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;<span class="comment">   *     This module computes the satellite azimuth and elevation angles (Described in Section 2.5.2)</span></div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;<span class="comment">   *     @param[in] losVec    =&gt; Line of sight vector</span></div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;<span class="comment">   *     @param[in] llhUserRad    =&gt;  Receiver position Latitude [rad], Longitude[rad], height[m]</span></div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;<span class="comment">   *     @param[out] SvDoAEleRad    =&gt;  Line of sight Elevation</span></div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<span class="comment">   *     @param[out] SvDoAAzRad     =&gt;  Line of sight Azimuth</span></div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="comment">   *  @file</span></div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;  <a class="code" href="../../da/dd9/_compute_do_a_8c.html#ad9471dcdf5b591b097989e9af9806729">ComputeDoA</a>(lOut_losVec, lOut_llhRad_a, &amp;lOut_SvDoAEleRad_, &amp;lOut_SvDoAAzRad_);</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160; </div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;  <span class="comment">/*</span></div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;<span class="comment">   * Block description for &#39;&lt;S4&gt;/ElevationCheck&#39;:</span></div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;<span class="comment">    * ******************************************************************</span></div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;<span class="comment">   *     &lt;strong&gt; FUNCTION &lt;/strong&gt;</span></div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;<span class="comment">   *     Positivity elevetaion check</span></div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;<span class="comment">   *     @param[in] El_check_in/t/t Satellite Elevation [rad]</span></div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;<span class="comment">   *     @param[out] El_check_out/t/t Limited Elevation</span></div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;<span class="comment">   *     @param[out] El_ErrCOde /t/t Elevation out of range error code</span></div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;  <a class="code" href="../../d8/dc5/_elevetion_check_8c.html#ad23f10c82dc8e06f22a46e8fe92f1b92">ElevetionCheck</a>(lOut_SvDoAEleRad_, &amp;lOut_El_check_out_, ErrorCode);</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160; </div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;  <span class="comment">/*</span></div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;<span class="comment">   * Block description for &#39;&lt;S4&gt;/getIonoPiercePoint&#39;:</span></div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;<span class="comment">   *        @ingroup NTCM_Procedure</span></div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;<span class="comment">   * ******************************************************************</span></div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;<span class="comment">   *  &lt;strong&gt; FUNCTION &lt;/strong&gt;</span></div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;<span class="comment">   *     This module computes the geographic latitude and longitude of the Ionospheric Pierce Point (IPP) (Described in Section 2.5.2).</span></div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;<span class="comment">   *     IPP is the point where the Line of Sight (LoS) intersects the reference ionospheric layer, this latter set at an altitude of 450Km.</span></div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;<span class="comment">   *     @param[in] llhUser     =&gt; Receiver position in  Latitude[rad], Longitude[rad], height[m]</span></div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;<span class="comment">   *     @param[in] ElRad     =&gt; Elevation (DoA) [rad]</span></div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;<span class="comment">   *     @param[in] AzRad     =&gt; Azimuth (DoA) [rad]</span></div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;<span class="comment">   *     @param [out] IppCoord    =&gt;Pierce Point coordinates in  Latitude[rad], Longitude[rad]</span></div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;<span class="comment">   *  @file</span></div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;  <a class="code" href="../../da/d5c/get_iono_pierce_point_8c.html#a23cedc75e88c37857c31ed81f59e892f">getIonoPiercePoint</a>(lOut_llhRad_a, lOut_El_check_out_, lOut_SvDoAAzRad_,</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;                     lOut_IppCoord_);</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160; </div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;  <span class="comment">/*</span></div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;<span class="comment">   * Block description for &#39;&lt;S4&gt;/LocalTime&#39;:</span></div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;<span class="comment">   *     @ingroup NTCM_Procedure</span></div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;<span class="comment">   *     FUNCTION:</span></div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;<span class="comment">   *     This module computes the local time LT given the pierce point longitude and UT.</span></div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;<span class="comment">   *     @param[in] IppPosRad     =&gt; Pierce Point Position in  Latitude[rad], Longitude[rad], height[m]</span></div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;<span class="comment">   *     @param[in] UTC   =&gt; utc time</span></div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;<span class="comment">   *     @param[out] LT   =&gt; Local Time</span></div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;<span class="comment">   *  @file</span></div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;  lOut_LT = <a class="code" href="../../da/dc6/_compute_local_time_8c.html#ac9ba2cc1257adf49af7e695a54fc841b">ComputeLocalTime</a>(lOut_IppCoord_, UTC);</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160; </div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;  <span class="comment">/*</span></div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;<span class="comment">   * Block description for &#39;&lt;S4&gt;/NTCM_Coeff_&#39;:</span></div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;<span class="comment">   *  Allocate NTCM Coeff as Input Vector</span></div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;<span class="comment">   * Block description for &#39;&lt;S4&gt;/NTCM_Coeff_&#39;:</span></div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;<span class="comment">   *  Allocate NTCM Coeff as Input Vector</span></div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;  lOut_NTCM_Coeff_[0] = <a class="code" href="../../d1/d37/_n_t_c_m___g___coeff_8h.html#aa786777ce0a77f3d766d53dfa93da3d7">k1</a>;</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;  lOut_NTCM_Coeff_[1] = <a class="code" href="../../d1/d37/_n_t_c_m___g___coeff_8h.html#a6d1b20b7746f8fe1eb340b8b6bf08a9e">k2</a>;</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;  lOut_NTCM_Coeff_[2] = <a class="code" href="../../d1/d37/_n_t_c_m___g___coeff_8h.html#a0d5999b0939a7ef7c0ba416f475ccf40">k3</a>;</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;  lOut_NTCM_Coeff_[3] = <a class="code" href="../../d1/d37/_n_t_c_m___g___coeff_8h.html#a9a63859d0e2e0f2a6958da64d931d0ed">k4</a>;</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;  lOut_NTCM_Coeff_[4] = <a class="code" href="../../d1/d37/_n_t_c_m___g___coeff_8h.html#a5672e09f3224ca07687f5a877c3e26a6">k5</a>;</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;  lOut_NTCM_Coeff_[5] = <a class="code" href="../../d1/d37/_n_t_c_m___g___coeff_8h.html#a78dad156253c5e7860b58f40971554f8">k6</a>;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;  lOut_NTCM_Coeff_[6] = <a class="code" href="../../d1/d37/_n_t_c_m___g___coeff_8h.html#a5a0c10dc51a45010627bea7710f8a7fa">k7</a>;</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;  lOut_NTCM_Coeff_[7] = <a class="code" href="../../d1/d37/_n_t_c_m___g___coeff_8h.html#a0407400a80962433ca9fa697cca19ae1">k8</a>;</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;  lOut_NTCM_Coeff_[8] = <a class="code" href="../../d1/d37/_n_t_c_m___g___coeff_8h.html#a132d2b0ab6d2b1584499b44dedca2a47">k9</a>;</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;  lOut_NTCM_Coeff_[9] = <a class="code" href="../../d1/d37/_n_t_c_m___g___coeff_8h.html#a370425b47b48952dbfa6de8545aefc4d">k10</a>;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;  lOut_NTCM_Coeff_[10] = <a class="code" href="../../d1/d37/_n_t_c_m___g___coeff_8h.html#a7258e080395c1ff402fa15f987e625bb">k11</a>;</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;  lOut_NTCM_Coeff_[11] = <a class="code" href="../../d1/d37/_n_t_c_m___g___coeff_8h.html#afc57384386f78b1bd6a73b36741df244">k12</a>;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160; </div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;  <span class="comment">/*</span></div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;<span class="comment">   * Block description for &#39;&lt;S4&gt;/Physiscal_Const_&#39;:</span></div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;<span class="comment">   *  Allocate NTCM Physiscal Const as Input Vector</span></div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;<span class="comment">   * Block description for &#39;&lt;S4&gt;/Physiscal_Const_&#39;:</span></div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;<span class="comment">   *  Allocate NTCM Physiscal Const as Input Vector</span></div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;  lOut_Physiscal_Const_[0] = <a class="code" href="../../d0/d3d/_physical_const_8h.html#a7aa7b2651fa4e7513ea615e092783218">Pf1</a>;</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;  lOut_Physiscal_Const_[1] = <a class="code" href="../../d0/d3d/_physical_const_8h.html#a91cc7c36eb4889281208c7b1804443a0">LTd</a>;</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;  lOut_Physiscal_Const_[2] = <a class="code" href="../../d0/d3d/_physical_const_8h.html#a1c1479a9cfb5bed1de506d1b734f2b76">doy_DAV</a>;</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;  lOut_Physiscal_Const_[3] = <a class="code" href="../../d0/d3d/_physical_const_8h.html#a871d7266264b158be0b513241ffdc48f">doy_DSAV</a>;</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;  lOut_Physiscal_Const_[4] = <a class="code" href="../../d0/d3d/_physical_const_8h.html#a5daa95969707c51890b01e1128a77f9a">phi_c1</a>;</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;  lOut_Physiscal_Const_[5] = <a class="code" href="../../d0/d3d/_physical_const_8h.html#abc49324f03d834be923e65660ccd5940">phi_c2</a>;</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;  lOut_Physiscal_Const_[6] = <a class="code" href="../../d0/d3d/_physical_const_8h.html#a01152befb51bf3c21d623d8ec50504c8">sigma_c1</a>;</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;  lOut_Physiscal_Const_[7] = <a class="code" href="../../d0/d3d/_physical_const_8h.html#a785183a8b2f773ec6155475cb79d57d5">sigma_c2</a>;</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;  lOut_Physiscal_Const_[8] = <a class="code" href="../../d0/d3d/_physical_const_8h.html#ab997191939a47cdf728ee96f2f0db006">phiGNP_deg</a>;</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;  lOut_Physiscal_Const_[9] = <a class="code" href="../../d0/d3d/_physical_const_8h.html#a0bff7a1dd85d9239d9da15d2d8f2eee1">lamGNP_deg</a>;</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160; </div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;  <span class="comment">/*</span></div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;<span class="comment">   * Block description for &#39;&lt;S4&gt;/NTCM_G&#39;:</span></div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;<span class="comment">   * ******************************************************************</span></div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;<span class="comment">   *     &lt;strong&gt; FUNCTION &lt;/strong&gt;</span></div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;<span class="comment">   *     The NTCM G is an empirical model that allows easy determination of global TEC.</span></div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;<span class="comment">   *     The model describes the main ionospheric features with good quality using a small</span></div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;<span class="comment">   *     number of model coefficients and parameters. The non-linear approach needs only 12</span></div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;<span class="comment">   *     coefficients and a few empirically fixed parameters for describing the broad spectrum</span></div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;<span class="comment">   *     of TEC variation for all levels of solar activity</span></div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;<span class="comment">   *     @param[in] brdcIonoParam   =&gt; ai0,ai1,ai2 Effective Ionisation Level parameters broadcast in the Galileo Navigation Message</span></div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;<span class="comment">   *     @param[in] doy     =&gt; Day of the Year</span></div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;<span class="comment">   *     @param[in] LT    =&gt; Local Time [hours]</span></div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;<span class="comment">   *     @param[in] IppCoord    =&gt; Pierce Point Coordinates in  Latitude[rad], Longitude[rad]</span></div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;<span class="comment">   *     @param[in] NTCM_Coeff_Vect     =&gt; NTCM model coefficients k1,k2,..,k12 (Described in Section 2.4.3)</span></div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;<span class="comment">   *     @param[in] NTCM_Phys_Cons    =&gt; Vector of Pysical Constant</span></div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;<span class="comment">   *     @param[out] vTEC_0     =&gt; Total Electron Content [TECU]</span></div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;<span class="comment">   *  @ingroup NTCM_Procedure</span></div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;<span class="comment">   *  @ingroup NTCM_G</span></div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;<span class="comment">   *  @file</span></div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;  <a class="code" href="../../d4/d6d/_n_t_c_m___g_8c.html#a34cb5ae7550529047e50638a01663d25">NTCM_G</a>(&amp;brdcIonoParam[0], &amp;Doy, &amp;lOut_LT, &amp;lOut_IppCoord_[0],</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;         &amp;lOut_NTCM_Coeff_[0], &amp;lOut_Physiscal_Const_[0], vTEC);</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160; </div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;  <span class="comment">/*</span></div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;<span class="comment">   * Block description for &#39;&lt;S4&gt;/Compute_sTEC&#39;:</span></div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;<span class="comment">   *        @ingroup NTCM_Procedure</span></div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;<span class="comment">   * ******************************************************************   *</span></div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;<span class="comment">   *     &lt;strong&gt; FUNCTION &lt;/strong&gt;</span></div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;<span class="comment">   *     This module computes the Mapping Function and converts the estimated VTEC to STEC (Described in Section 2.5.8).</span></div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;<span class="comment">   *     @param[in] ele_rad     =&gt; Satellite elevation</span></div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;<span class="comment">   *     @param[in] vTEC    =&gt;  Vertical Total Electron Content [TECU]</span></div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;<span class="comment">   *     @param[out] sTEC     =&gt;  Slant Total Electron Content [TECU]</span></div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;<span class="comment">   *  @file</span></div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;  *sTEC = <a class="code" href="../../d9/d68/_compute__s_t_e_c_8c.html#aa9604438cc21a389f69e12ab7a2c1509">Compute_sTEC</a>(lOut_El_check_out_, *vTEC);</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160; </div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;  <span class="comment">/*</span></div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;<span class="comment">   * Block description for &#39;&lt;S4&gt;/Compute_IonoDelay&#39;:</span></div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;<span class="comment">   *        @ingroup NTCM_Procedure</span></div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;<span class="comment"> * ******************************************************************</span></div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;<span class="comment">   *     &lt;strong&gt; FUNCTION &lt;/strong&gt;</span></div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;<span class="comment">   *     Compute ionospheric Delay</span></div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;<span class="comment">   *     @param[in] sTEC    =&gt; Slant TEC</span></div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;<span class="comment">   *     @param[in] fCarr   =&gt; Carrier Frequency</span></div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;<span class="comment">   *     @param[out] delay_m    =&gt;ionospheric Delay[m]</span></div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;<span class="comment">   *  @file</span></div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;  *delay_m = <a class="code" href="../../dd/d47/_compute___iono_delay_8c.html#a08ad2a3e2ff1410e4f607260b34c9c1d">Compute_IonoDelay</a>(*sTEC, fcarr);</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<div class="ttc" id="a_n_t_c_m___g___coeff_8h_html_afc57384386f78b1bd6a73b36741df244"><div class="ttname"><a href="../../d1/d37/_n_t_c_m___g___coeff_8h.html#afc57384386f78b1bd6a73b36741df244">k12</a></div><div class="ttdeci">#define k12</div><div class="ttdef"><b>Definition:</b> NTCM_G_Coeff.h:30</div></div>
<div class="ttc" id="a_compute_do_a_8c_html_ad9471dcdf5b591b097989e9af9806729"><div class="ttname"><a href="../../da/dd9/_compute_do_a_8c.html#ad9471dcdf5b591b097989e9af9806729">ComputeDoA</a></div><div class="ttdeci">void ComputeDoA(const real_T losVec[3], const real_T llhUserRad[3], real_T *SvDoAEleRad, real_T *SvDoAAzRad)</div><div class="ttdef"><b>Definition:</b> ComputeDoA.c:63</div></div>
<div class="ttc" id="a_n_t_c_m___g___coeff_8h_html_a5a0c10dc51a45010627bea7710f8a7fa"><div class="ttname"><a href="../../d1/d37/_n_t_c_m___g___coeff_8h.html#a5a0c10dc51a45010627bea7710f8a7fa">k7</a></div><div class="ttdeci">#define k7</div><div class="ttdef"><b>Definition:</b> NTCM_G_Coeff.h:36</div></div>
<div class="ttc" id="a_n_t_c_m___g_8c_html_a34cb5ae7550529047e50638a01663d25"><div class="ttname"><a href="../../d4/d6d/_n_t_c_m___g_8c.html#a34cb5ae7550529047e50638a01663d25">NTCM_G</a></div><div class="ttdeci">void NTCM_G(const real_T brdcIonoParam[3], const real_T *doy, const real_T *LT, const real_T IppCoord[2], const real_T NTCM_Coeff_Vect[12], const real_T NTCM_Phys_Cons[10], real_T *vTEC)</div><div class="ttdef"><b>Definition:</b> NTCM_G.c:291</div></div>
<div class="ttc" id="a_physical_const_8h_html_a785183a8b2f773ec6155475cb79d57d5"><div class="ttname"><a href="../../d0/d3d/_physical_const_8h.html#a785183a8b2f773ec6155475cb79d57d5">sigma_c2</a></div><div class="ttdeci">#define sigma_c2</div><div class="ttdef"><b>Definition:</b> PhysicalConst.h:38</div></div>
<div class="ttc" id="a_n_t_c_m___g___coeff_8h_html_a5672e09f3224ca07687f5a877c3e26a6"><div class="ttname"><a href="../../d1/d37/_n_t_c_m___g___coeff_8h.html#a5672e09f3224ca07687f5a877c3e26a6">k5</a></div><div class="ttdeci">#define k5</div><div class="ttdef"><b>Definition:</b> NTCM_G_Coeff.h:34</div></div>
<div class="ttc" id="a_n_t_c_m___g___coeff_8h_html_aa786777ce0a77f3d766d53dfa93da3d7"><div class="ttname"><a href="../../d1/d37/_n_t_c_m___g___coeff_8h.html#aa786777ce0a77f3d766d53dfa93da3d7">k1</a></div><div class="ttdeci">#define k1</div><div class="ttdef"><b>Definition:</b> NTCM_G_Coeff.h:27</div></div>
<div class="ttc" id="a_physical_const_8h_html_a91cc7c36eb4889281208c7b1804443a0"><div class="ttname"><a href="../../d0/d3d/_physical_const_8h.html#a91cc7c36eb4889281208c7b1804443a0">LTd</a></div><div class="ttdeci">#define LTd</div><div class="ttdef"><b>Definition:</b> PhysicalConst.h:28</div></div>
<div class="ttc" id="a_n_t_c_m___g___coeff_8h_html_a0407400a80962433ca9fa697cca19ae1"><div class="ttname"><a href="../../d1/d37/_n_t_c_m___g___coeff_8h.html#a0407400a80962433ca9fa697cca19ae1">k8</a></div><div class="ttdeci">#define k8</div><div class="ttdef"><b>Definition:</b> NTCM_G_Coeff.h:37</div></div>
<div class="ttc" id="a_physical_const_8h_html_abc49324f03d834be923e65660ccd5940"><div class="ttname"><a href="../../d0/d3d/_physical_const_8h.html#abc49324f03d834be923e65660ccd5940">phi_c2</a></div><div class="ttdeci">#define phi_c2</div><div class="ttdef"><b>Definition:</b> PhysicalConst.h:36</div></div>
<div class="ttc" id="a_physical_const_8h_html_a871d7266264b158be0b513241ffdc48f"><div class="ttname"><a href="../../d0/d3d/_physical_const_8h.html#a871d7266264b158be0b513241ffdc48f">doy_DSAV</a></div><div class="ttdeci">#define doy_DSAV</div><div class="ttdef"><b>Definition:</b> PhysicalConst.h:32</div></div>
<div class="ttc" id="a_physical_const_8h_html_a0bff7a1dd85d9239d9da15d2d8f2eee1"><div class="ttname"><a href="../../d0/d3d/_physical_const_8h.html#a0bff7a1dd85d9239d9da15d2d8f2eee1">lamGNP_deg</a></div><div class="ttdeci">#define lamGNP_deg</div><div class="ttdef"><b>Definition:</b> PhysicalConst.h:33</div></div>
<div class="ttc" id="a_n_t_c_m___g___coeff_8h_html_a370425b47b48952dbfa6de8545aefc4d"><div class="ttname"><a href="../../d1/d37/_n_t_c_m___g___coeff_8h.html#a370425b47b48952dbfa6de8545aefc4d">k10</a></div><div class="ttdeci">#define k10</div><div class="ttdef"><b>Definition:</b> NTCM_G_Coeff.h:28</div></div>
<div class="ttc" id="a_physical_const_8h_html_a7aa7b2651fa4e7513ea615e092783218"><div class="ttname"><a href="../../d0/d3d/_physical_const_8h.html#a7aa7b2651fa4e7513ea615e092783218">Pf1</a></div><div class="ttdeci">#define Pf1</div><div class="ttdef"><b>Definition:</b> PhysicalConst.h:29</div></div>
<div class="ttc" id="a_compute__s_t_e_c_8c_html_aa9604438cc21a389f69e12ab7a2c1509"><div class="ttname"><a href="../../d9/d68/_compute__s_t_e_c_8c.html#aa9604438cc21a389f69e12ab7a2c1509">Compute_sTEC</a></div><div class="ttdeci">real_T Compute_sTEC(real_T ele_rad, real_T vTEC)</div><div class="ttdef"><b>Definition:</b> Compute_sTEC.c:61</div></div>
<div class="ttc" id="aget_iono_pierce_point_8c_html_a23cedc75e88c37857c31ed81f59e892f"><div class="ttname"><a href="../../da/d5c/get_iono_pierce_point_8c.html#a23cedc75e88c37857c31ed81f59e892f">getIonoPiercePoint</a></div><div class="ttdeci">void getIonoPiercePoint(const real_T llhUserRad[3], real_T ElRad, real_T AzRad, real_T IppCoord[2])</div><div class="ttdef"><b>Definition:</b> getIonoPiercePoint.c:65</div></div>
<div class="ttc" id="allh2xyz___rec_8c_html_a988687344f4b72b58df43eaa6fad7788"><div class="ttname"><a href="../../dc/d76/llh2xyz___rec_8c.html#a988687344f4b72b58df43eaa6fad7788">llh2xyz_Rec</a></div><div class="ttdeci">void llh2xyz_Rec(const real_T llh[3], real_T xyz[3])</div><div class="ttdef"><b>Definition:</b> llh2xyz_Rec.c:58</div></div>
<div class="ttc" id="a_n_t_c_m___g___coeff_8h_html_a6d1b20b7746f8fe1eb340b8b6bf08a9e"><div class="ttname"><a href="../../d1/d37/_n_t_c_m___g___coeff_8h.html#a6d1b20b7746f8fe1eb340b8b6bf08a9e">k2</a></div><div class="ttdeci">#define k2</div><div class="ttdef"><b>Definition:</b> NTCM_G_Coeff.h:31</div></div>
<div class="ttc" id="a_n_t_c_m___g___coeff_8h_html_a132d2b0ab6d2b1584499b44dedca2a47"><div class="ttname"><a href="../../d1/d37/_n_t_c_m___g___coeff_8h.html#a132d2b0ab6d2b1584499b44dedca2a47">k9</a></div><div class="ttdeci">#define k9</div><div class="ttdef"><b>Definition:</b> NTCM_G_Coeff.h:38</div></div>
<div class="ttc" id="artwtypes_8h_html_a2e4078fe4daba4fe064f5c7614b361a2"><div class="ttname"><a href="../../dd/d65/rtwtypes_8h.html#a2e4078fe4daba4fe064f5c7614b361a2">real_T</a></div><div class="ttdeci">double real_T</div><div class="ttdef"><b>Definition:</b> rtwtypes.h:110</div></div>
<div class="ttc" id="a_elevetion_check_8c_html_ad23f10c82dc8e06f22a46e8fe92f1b92"><div class="ttname"><a href="../../d8/dc5/_elevetion_check_8c.html#ad23f10c82dc8e06f22a46e8fe92f1b92">ElevetionCheck</a></div><div class="ttdeci">void ElevetionCheck(real_T El_check_in, real_T *El_check_out, uint16_T *El_ErrCOde)</div><div class="ttdef"><b>Definition:</b> ElevetionCheck.c:89</div></div>
<div class="ttc" id="a_n_t_c_m___g___coeff_8h_html_a78dad156253c5e7860b58f40971554f8"><div class="ttname"><a href="../../d1/d37/_n_t_c_m___g___coeff_8h.html#a78dad156253c5e7860b58f40971554f8">k6</a></div><div class="ttdeci">#define k6</div><div class="ttdef"><b>Definition:</b> NTCM_G_Coeff.h:35</div></div>
<div class="ttc" id="a_n_t_c_m___g___coeff_8h_html_a0d5999b0939a7ef7c0ba416f475ccf40"><div class="ttname"><a href="../../d1/d37/_n_t_c_m___g___coeff_8h.html#a0d5999b0939a7ef7c0ba416f475ccf40">k3</a></div><div class="ttdeci">#define k3</div><div class="ttdef"><b>Definition:</b> NTCM_G_Coeff.h:32</div></div>
<div class="ttc" id="allh2xyz___sat_8c_html_a7760470ad73a8ff22bce840ed91be503"><div class="ttname"><a href="../../df/d12/llh2xyz___sat_8c.html#a7760470ad73a8ff22bce840ed91be503">llh2xyz_Sat</a></div><div class="ttdeci">void llh2xyz_Sat(const real_T llh[3], real_T xyz[3])</div><div class="ttdef"><b>Definition:</b> llh2xyz_Sat.c:57</div></div>
<div class="ttc" id="a_n_t_c_m___g___coeff_8h_html_a9a63859d0e2e0f2a6958da64d931d0ed"><div class="ttname"><a href="../../d1/d37/_n_t_c_m___g___coeff_8h.html#a9a63859d0e2e0f2a6958da64d931d0ed">k4</a></div><div class="ttdeci">#define k4</div><div class="ttdef"><b>Definition:</b> NTCM_G_Coeff.h:33</div></div>
<div class="ttc" id="a_compute_local_time_8c_html_ac9ba2cc1257adf49af7e695a54fc841b"><div class="ttname"><a href="../../da/dc6/_compute_local_time_8c.html#ac9ba2cc1257adf49af7e695a54fc841b">ComputeLocalTime</a></div><div class="ttdeci">real_T ComputeLocalTime(const real_T IppPosRad[2], real_T UTC)</div><div class="ttdef"><b>Definition:</b> ComputeLocalTime.c:59</div></div>
<div class="ttc" id="a_physical_const_8h_html_a1c1479a9cfb5bed1de506d1b734f2b76"><div class="ttname"><a href="../../d0/d3d/_physical_const_8h.html#a1c1479a9cfb5bed1de506d1b734f2b76">doy_DAV</a></div><div class="ttdeci">#define doy_DAV</div><div class="ttdef"><b>Definition:</b> PhysicalConst.h:31</div></div>
<div class="ttc" id="a_compute___iono_delay_8c_html_a08ad2a3e2ff1410e4f607260b34c9c1d"><div class="ttname"><a href="../../dd/d47/_compute___iono_delay_8c.html#a08ad2a3e2ff1410e4f607260b34c9c1d">Compute_IonoDelay</a></div><div class="ttdeci">real_T Compute_IonoDelay(real_T sTEC, real_T fCarr)</div><div class="ttdef"><b>Definition:</b> Compute_IonoDelay.c:61</div></div>
<div class="ttc" id="a_physical_const_8h_html_a5daa95969707c51890b01e1128a77f9a"><div class="ttname"><a href="../../d0/d3d/_physical_const_8h.html#a5daa95969707c51890b01e1128a77f9a">phi_c1</a></div><div class="ttdeci">#define phi_c1</div><div class="ttdef"><b>Definition:</b> PhysicalConst.h:35</div></div>
<div class="ttc" id="a_physical_const_8h_html_a01152befb51bf3c21d623d8ec50504c8"><div class="ttname"><a href="../../d0/d3d/_physical_const_8h.html#a01152befb51bf3c21d623d8ec50504c8">sigma_c1</a></div><div class="ttdeci">#define sigma_c1</div><div class="ttdef"><b>Definition:</b> PhysicalConst.h:37</div></div>
<div class="ttc" id="a_n_t_c_m___g___coeff_8h_html_a7258e080395c1ff402fa15f987e625bb"><div class="ttname"><a href="../../d1/d37/_n_t_c_m___g___coeff_8h.html#a7258e080395c1ff402fa15f987e625bb">k11</a></div><div class="ttdeci">#define k11</div><div class="ttdef"><b>Definition:</b> NTCM_G_Coeff.h:29</div></div>
<div class="ttc" id="a_physical_const_8h_html_ab997191939a47cdf728ee96f2f0db006"><div class="ttname"><a href="../../d0/d3d/_physical_const_8h.html#ab997191939a47cdf728ee96f2f0db006">phiGNP_deg</a></div><div class="ttdeci">#define phiGNP_deg</div><div class="ttdef"><b>Definition:</b> PhysicalConst.h:34</div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
